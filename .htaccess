RewriteEngine On
# Set the base path if your application is in a subdirectory (e.g., /app/)
# If your application is in the root directory (http://localhost/), you can omit this line.
# RewriteBase /

# 1. Block direct access to .php files (for SEO and consistency)
RewriteCond %{THE_REQUEST} \s/+(.+?)\.php[\s?].* [NC]
RewriteRule ^ %1 [R=301,L]

# 2. Specific Route Rewriting (MUST come BEFORE the -f and -d checks)
# This rule is now perfect for category/slug-name
RewriteRule ^category/([^/]+)/?$ category.php?slug=$1 [L,QSA]

# 3. Prevent rewriting for actual files and directories
# If the request matches a real file or directory (like /images/aanviologo.svg), stop rewriting.
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# 4. Generic Extension-less Rewriting
# This takes http://localhost/page and rewrites it to /page.php
RewriteRule ^(.*)$ $1.php [L]